<div class="card p-6">
  <!-- Header Row: Stock In + Buttons -->
  <div class="flex justify-between items-center mb-6">
    <span class="block text-surface-900 font-bold text-2xl">Item Report</span>
     <!-- Add and Display Buttons -->
      <div class="flex gap-6">
         <button pButton type="submit" label="Display" class="p-button-warning"(click)="Onreturndropdowndetails()" ></button>
          <button pButton type="button" label="Reset" class="p-button-secondary" (click)="reset()"></button>
        <button pButton type="button" label="Download" icon="pi pi-download" iconPos="right" class="p-button-warning" (click)="exportToExcel()"></button>
      </div>
  </div>

  <form [formGroup]="reportForm"  class="space-y-8">

    <!-- ðŸ· Product Info Section -->
    <div>
      <!-- Two-column grid layout -->
      <div class="grid grid-cols-2 gap-x-8 gap-y-4 w-full mb-3">

        <!-- Report Type -->
        <div class="flex flex-col">
          <label class="font-medium mb-1">Report Type</label>
           <p-dropdown
            [options]="reportTypeOptions"
            optionLabel="label"
            optionValue="value"
            [filter]="true"
            filterPlaceholder="Select Report Type"
            formControlName="reportType"
            placeholder="Report Type">
          </p-dropdown>
          <!-- <small class="text-red-500 ms-3 mt-1" *ngIf="reportForm.get('vendorName')?.touched">
            <span *ngIf="reportForm.get('vendorName')?.errors?.['required']">Vendor Name is required</span>
          </small> -->
        </div>
        
</div>
<div class="flex justify-between items-end w-full gap-6">
<div class="grid grid-cols-2 gap-6 flex-grow">
         <!-- Category -->
            <div class="flex flex-col">
                <label class="font-medium mb-1">Category</label>
                <p-dropdown [options]="categoryOptions" optionLabel="fieldname" optionValue="fieldid" [filter]="true" [showClear]="true" filterPlaceholder="Search Category" formControlName="category" placeholder="Category"> </p-dropdown>
            </div>

       <!-- Item Name -->
            <div class="flex flex-col">
                <label class="font-medium mb-1">Item Name</label>
                <p-dropdown [options]="itemOptions" optionLabel="itemcombine" optionValue="itemid" [filter]="true" [showClear]="true" filterPlaceholder="Search Item" formControlName="item" placeholder="Item"> </p-dropdown>
            </div>
          </div>
     
    </div>
</div>
    <!-- Product Table with Pagination -->
    <div>
      <p-table
        [value]="filteredProducts"
        dataKey="code"
        [tableStyle]="{'min-width': '50rem'}"
        [paginator]="true"
        [rows]="10"
        [rowsPerPageOptions]="[5, 10, 20, 50]"
        [responsiveLayout]="'scroll'"
        class="p-datatable-gridlines mt-6"
      >
        <ng-template #header>
          <tr class="bg-yellow-400">
            <th><p-tableHeaderCheckbox></p-tableHeaderCheckbox></th>
            <th>Item Code</th>
            <th>Item Name</th>
            <th>Category</th>
            <th>Stock</th>
            <th>Cost Price</th>
           <th>MRP</th>
            <th>Location</th>
            <th>Last Updated By</th>
            <th>Last Updated</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-row let-i="rowIndex">
          <tr>
            <td class="text-center">
             <p-tableCheckbox [value]="row" />
            </td>
            <td class="flex justify-between gap-2">{{ row.itemsku}}
               <!-- <span class=" pi pi-copy cursor-pointer "></span> -->
              </td>
            <td>{{ row.itemname }}</td>
            <td>{{ row.categoryname }}</td>
            <td>{{ row.currentstock }}</td>
            <td>{{ row.costprice }}</td>
            <td>{{ row.saleprice}}</td>
            <td>{{ row.location }}</td>
            <td>{{ row.lastUpdatedBy}}</td>
            <td>{{ row.lastUpdated}}</td>
          </tr>
        </ng-template>

        <ng-template pTemplate="paginatorleft">
          <div class="text-gray-600 ms-2">Total Items: {{ filteredProducts?.length || 0 }}</div>
        </ng-template>
      </p-table>
    </div>

    <!-- Grand Total -->
    <div class="flex justify-end items-center gap-4 mt-6 border-t pt-4">
      <label class="font-medium">Grand Total</label>
      <input pInputText type="text" [value]="grandTotal" readonly placeholder="Total" class="w-40 text-right" />
    </div>
  </form>

 
